---
'title': '增删查改全上阵'
'date': 2018-11-26
---
# 增删查改全上阵

最近经手了一个开发需求，正好覆盖了增删查改四个动作，但删除是假删除，数据库中其实是逻辑删除，这导致修改也不是通常意义上的修改，而是「逻辑删除并新建」。

这个修改被做成「逻辑删除并新建」完全是自己对业务的理解，产品并没有想到这一点，也不在乎这一点。

除此之外，也使用了连环外键。A到B再到C。

前端主要针对C进行增删查改，可以直接增加或更改B资源到C，Django 的 serializer 在 validate 时，也能做到直接将资源 id 映射为资源实例。资源的修改通过后端添加或批量上传。

这个小需求所涵盖的内容，还是很典型的。

具备增删查改功能的完备流水记录。