---
'title': '复习 Requests and BeautifulSoup4'
'date': 2017-09-18
---
# 复习 Requests and BeautifulSoup4

明天就要开始实习，或许会用到爬虫抓取数据，或者利用 BS 解析 hmtl 文档，所以简单复习一下。

## Requests 

这个库写得相当优雅，几乎就像是把 HTTP 协议翻译为自然语言。

其中主要涉及四个方法：
 - get 插
- post 增
- put 改
- delete 删

在实际业务中，get 和 post 占据了绝大多数。get 就是简单的索引 URL，但是也可以带参数，参数是明文展示在 URL 中，也就是地址栏里的网址中。post 把请求数据放在 url 之外，所以可以添加一些隐藏参数，更安全一些。

其它还有如何设置各种请求参数，cookie 以及 session。

只是简单扫过，并没有记住，一旦需要使用，还需要现学现卖。

## BeautifulSoup4

BS4 是一个利用 html 解析器将 html 网页封装为 一种 Python 风格的树状结构的对象的库。

主要有四种对象：

- Tag
- NavigableString
- BeautifulSoup
- Comment

其中前三者最为常见，三者当中有数 Tag 最常见。

通常，我们会利用 BS4 先得到一个 BeautifulSoup 对象，然后在这个对象中采用合适方法查询目标 tag，继而获取我们想要的属性信息或文本信息。

在查询时，要利用好属性结构的优势，简单的说就是父子和兄弟关系。当目标不够明显，无法直接定位时，我们可以先定位到一个粗略的节点，然后再利用父子和兄弟关系外推搜寻。

在使用 BS4 时，大部分时候时查询。但查询的目的一般也是为了获取目标数据。

当目标数据比较混乱时，或许需要考虑先对 BS4 对象进行恰当的编辑之后再获取目标信息。

毕竟 BS4 有一定的结构，在有一定结构的数据进行编辑更容易。如果先提取出粗略信息再使用各种方法过滤非目标信息，或许会比较费时费力。

## 结语

总结写得很匆忙，算是稍作记录吧，惭愧。