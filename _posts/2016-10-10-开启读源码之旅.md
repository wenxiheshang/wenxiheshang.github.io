---
'title': '开启读源码之旅'
'date': 2016-10-10
---

# 开启读源码之旅

按照董伟明大神给出的建议，先读一些牛人写得比较短小的，第一次读，是 kennethreitz 的 pip-pop 。

首先，搞懂代码要干的事情是什么。pip-pop 要解决的是要同大量 requirements.txt 文件打交道时，分析出两个文件之间的不同，以及判断一个模块是否在一个文件中。

确实短小，但依然是很规范，用*setup.py*安装文件，可以安装为脚本，但不知为啥，我在电脑上安装不成功，或许是因为 Windows 的原因？暂时搞不懂，也没搜到，先放下不管。

直接运行脚本文件，功能倒是可以正常运行。除了文件中使用的退出功能不可用外，其它都可以。

这次看源码，虽然短小，但我依然没看懂，收获倒是有的，主要是对命令行参数的使用更熟悉，以及一个库 [docopt][1]用于创建漂亮的命令行交互界面。

此外，对源代码中 if...else 的单句使用印象深刻，很优雅简洁，超棒。学习了。

还有就是学习了 os.path 的使用。

- os.path.exists(path)
- os.path.abspath(path)
- os.path.split(path)
- os.path.join(path, \*path)
- os.path.dirname(path)
- os.path.isfile(path)
- os.path.isdir(path)
- os.makedirs(path)

这样以后对文件夹的创建和判断，基本可以够用，也有这个意识，不用再手动创建。

[1]:	https://wp-lai.gitbooks.io/learn-python/content/0MOOC/docopt.html